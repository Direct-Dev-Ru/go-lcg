# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ OllamaServer

## –§–∞–π–ª—ã

```
Dockerfiles/OllamaServer/
‚îú‚îÄ‚îÄ Dockerfile              # Multi-stage Dockerfile –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞
‚îú‚îÄ‚îÄ entrypoint.sh           # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ LCG –∏ Ollama —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ docker-compose.yml      # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ podman-compose.yml      # Podman Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Makefile                # –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ README.md               # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ QUICKSTART.md           # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ STRUCTURE.md            # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ .dockerignore           # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Docker build
‚îî‚îÄ‚îÄ .gitignore              # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git
```

## –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

### Dockerfile
Multi-stage Dockerfile, –∫–æ—Ç–æ—Ä—ã–π:
1. –°–æ–±–∏—Ä–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω–∏–∫ LCG –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Ollama 0.9.5
3. –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ollama
4. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ä–∞–±–æ—á–µ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

### entrypoint.sh
–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞, –∫–æ—Ç–æ—Ä—ã–π:
1. –ó–∞–ø—É—Å–∫–∞–µ—Ç Ollama —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ
2. –û–∂–∏–¥–∞–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Ollama API
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç LCG —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ
4. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
5. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### docker-compose.yml / podman-compose.yml
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ compose:
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä—Ç–æ–≤
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- Volumes –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- Healthcheck

### Makefile
–£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è:
- –°–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞
- –ó–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤
- –†–∞–±–æ—Ç—ã —Å compose

### README.md
–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å:
- –û–ø–∏—Å–∞–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ü—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –†–µ—à–µ–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º

### QUICKSTART.md
–ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞.

## –ü–æ—Ä—Ç—ã

- **8080**: LCG –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- **11434**: Ollama API

## Volumes

- `ollama-data`: –î–∞–Ω–Ω—ã–µ Ollama (–º–æ–¥–µ–ª–∏)
- `lcg-results`: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥
- `lcg-prompts`: –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
- `lcg-config`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è LCG

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Å–º. README.md –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞):
- `LCG_PROVIDER=ollama`
- `LCG_HOST=http://127.0.0.1:11434/`
- `LCG_MODEL=codegeex4`
- `OLLAMA_HOST=0.0.0.0`
- `OLLAMA_PORT=11434`

## –ó–∞–ø—É—Å–∫

### Docker
```bash
cd Dockerfiles/OllamaServer
docker-compose up -d
```

### Podman
```bash
cd Dockerfiles/OllamaServer
podman-compose -f podman-compose.yml up -d
```

### Make
```bash
cd Dockerfiles/OllamaServer
make compose-up
# –∏–ª–∏
make podman-compose-up
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç –¥–≤–∞ —Å–µ—Ä–≤–∏—Å–∞:
1. **Ollama** (–ø–æ—Ä—Ç 11434) - LLM —Å–µ—Ä–≤–µ—Ä
2. **LCG** (–ø–æ—Ä—Ç 8080) - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ API

–û–±–∞ —Å–µ—Ä–≤–∏—Å–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –æ–¥–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∏ –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ localhost.


# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é (USAGE_GUIDE)

## –ß—Ç–æ —ç—Ç–æ

Linux Command GPT (`lcg`) –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ –≤ –≥–æ—Ç–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è Linux –∏–ª–∏ Windows. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–º–ø—Ç—ã. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã LLM (Ollama –∏–ª–∏ Proxy), —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏, –∏—Å—Ç–æ—Ä–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, CSRF –∑–∞—â–∏—Ç—É, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞–¥ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π –∏ –¥–µ–ø–ª–æ–π –≤ Kubernetes.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Go (–¥–ª—è —Å–±–æ—Ä–∫–∏ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤) –∏–ª–∏ –≥–æ—Ç–æ–≤—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫.
- –î–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ ¬´—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞¬ª: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `xclip` –∏–ª–∏ `xsel`.

```bash
# Debian/Ubuntu
sudo apt-get install xclip
# –∏–ª–∏
sudo apt-get install xsel
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤:

```bash

git clone --depth 1 https://github.com/Direct-Dev-Ru/go-lcg.git ~/.linux-command-gpt
cd ~/.linux-command-gpt
go build -o lcg

# –î–æ–±–∞–≤—å—Ç–µ –±–∏–Ω–∞—Ä–Ω–∏–∫ –≤ PATH
ln -s ~/.linux-command-gpt/lcg ~/.local/bin
```

–ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ —Ä–µ–ª–∏–∑–æ–≤.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å:

```bash
lcg "—Ö–æ—á—É –∏–∑–≤–ª–µ—á—å —Ñ–∞–π–ª linux-command-gpt.tar.gz"
```

–°–º–µ—à–∞–Ω–Ω—ã–π –≤–≤–æ–¥: —á–∞—Å—Ç—å –∏–∑ —Ñ–∞–π–ª–∞, —á–∞—Å—Ç—å ‚Äî —Ç–µ–∫—Å—Ç–æ–º:

```bash
lcg --file /path/to/context.txt "—Ö–æ—á—É –≤—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å –ø–æ–º–æ—â—å—é ls"
```

–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```text
ü§ñ –ó–∞–ø—Ä–æ—Å: <–≤–∞—à–µ –æ–ø–∏—Å–∞–Ω–∏–µ>
‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞ X.XX —Å–µ–∫

–í–ù–ò–ú–ê–ù–ò–ï: –û–¢–í–ï–¢ –°–§–û–†–ú–ò–†–û–í–ê–ù –ò–ò. –¢–†–ï–ë–£–ï–¢–°–Ø –ü–†–û–í–ï–†–ö–ê –ò –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó. –í–û–ó–ú–û–ñ–ù–´ –û–®–ò–ë–ö–ò –ò –ì–ê–õ–õ–Æ–¶–ò–ù–ê–¶–ò–ò.

üìã –ö–æ–º–∞–Ω–¥–∞:
   <—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞>

–î–µ–π—Å—Ç–≤–∏—è: (c)–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, (s)—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, (r)–ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å, (e)–≤—ã–ø–æ–ª–Ω–∏—Ç—å, (v|vv|vvv)–ø–æ–¥—Ä–æ–±–Ω–æ, (n)–Ω–∏—á–µ–≥–æ:
```

### –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ 3.0.0

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ HTTP-only cookies
- **CSRF –∑–∞—â–∏—Ç–∞**: –ü–æ–ª–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç CSRF –∞—Ç–∞–∫ —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ middleware
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –£–ª—É—á—à–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Å–µ—Å—Å–∏–π
- **Kubernetes –¥–µ–ø–ª–æ–π**: –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ –¥–ª—è –¥–µ–ø–ª–æ—è –≤ Kubernetes —Å Traefik
- **Flux CD**: GitOps –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è
- **Reverse Proxy**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–±–æ—Ç—ã –∑–∞ reverse proxy —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π cookies
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –£–ª—É—á—à–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Prometheus –º–µ—Ç—Ä–∏–∫–∏ –∏ ServiceMonitor
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: HPA –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CSRF –∑–∞—â–∏—Ç—ã

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| --- | --- | --- |
| `LCG_HOST` | `http://192.168.87.108:11434/` | –ë–∞–∑–æ–≤—ã–π URL API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–¥–ª—è Ollama –ø–æ—Å—Ç–∞–≤—å—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `http://localhost:11434/`). |
| `LCG_PROXY_URL` | `/api/v1/protected/sberchat/chat` | –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –¥–ª—è Proxy –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞. |
| `LCG_COMPLETIONS_PATH` | `api/chat` | –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –¥–ª—è Ollama. |
| `LCG_MODEL` | `hf.co/yandex/YandexGPT-5-Lite-8B-instruct-GGUF:Q4_K_M` | –ò–º—è –º–æ–¥–µ–ª–∏ —É –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞. |
| `LCG_PROMPT` | –°–º. –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ–¥–µ | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. |
| `LCG_API_KEY_FILE` | `.openai_api_key` | –§–∞–π–ª —Å API‚Äë–∫–ª—é—á–æ–º (–¥–ª—è Ollama/Proxy –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è). |
| `LCG_RESULT_FOLDER` | `~/.config/lcg/gpt_results` | –ü–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. |
| `LCG_PROVIDER` | `ollama` | –¢–∏–ø –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞: `ollama` –∏–ª–∏ `proxy`. |
| `LCG_JWT_TOKEN` | –ø—É—Å—Ç–æ | JWT —Ç–æ–∫–µ–Ω –¥–ª—è `proxy` –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî —Ñ–∞–π–ª `~/.proxy_jwt_token`). |
| `LCG_PROMPT_ID` | `1` | ID —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. |
| `LCG_BROWSER_PATH` | –ø—É—Å—Ç–æ | –ü—É—Ç—å –∫ –±—Ä–∞—É–∑–µ—Ä—É –¥–ª—è –∞–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏—è (`--browser`). |
| `LCG_TIMEOUT` | `300` | –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö. |
| `LCG_RESULT_HISTORY` | `$(LCG_RESULT_FOLDER)/lcg_history.json` | –ü—É—Ç—å –∫ JSON‚Äë–∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤. |
| `LCG_PROMPT_FOLDER` | `~/.config/lcg/gpt_sys_prompts` | –ü–∞–ø–∫–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤. |
| `LCG_NO_HISTORY` | –ø—É—Å—Ç–æ | –ï—Å–ª–∏ `1`/`true` ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∞–µ—Ç –∑–∞–ø–∏—Å—å/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏. |
| `LCG_ALLOW_EXECUTION` | –ø—É—Å—Ç–æ | –ï—Å–ª–∏ `1`/`true` ‚Äî –≤–∫–ª—é—á–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ –æ–ø—Ü–∏—é `(e)` –≤ –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π. |
| `LCG_SERVER_PORT` | `8080` | –ü–æ—Ä—Ç –¥–ª—è HTTP —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. |
| `LCG_SERVER_HOST` | `localhost` | –•–æ—Å—Ç –¥–ª—è HTTP —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. |
| `LCG_SERVER_REQUIRE_AUTH` | `false` | –¢—Ä–µ–±–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É. |
| `LCG_SERVER_PASSWORD` | `admin#123456` | –ü–∞—Ä–æ–ª—å –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. |
| `LCG_COOKIE_SECURE` | `false` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Secure —Ñ–ª–∞–≥ –¥–ª—è cookies (–¥–ª—è HTTPS). |
| `LCG_DOMAIN` | –ø—É—Å—Ç–æ | –î–æ–º–µ–Ω –¥–ª—è cookies (–¥–ª—è reverse proxy). |
| `LCG_COOKIE_PATH` | `/` | –ü—É—Ç—å –¥–ª—è cookies (–¥–ª—è reverse proxy). |
| `LCG_COOKIE_TTL_HOURS` | `168` | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ cookies –≤ —á–∞—Å–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 7 –¥–Ω–µ–π). |
| `LCG_CSRF_SECRET` | –ø—É—Å—Ç–æ | –°–µ–∫—Ä–µ—Ç –¥–ª—è CSRF —Ç–æ–∫–µ–Ω–æ–≤ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏). |

–ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```bash
# Ollama
export LCG_PROVIDER=ollama
export LCG_HOST=http://localhost:11434/
export LCG_MODEL=codegeex4

# Proxy
export LCG_PROVIDER=proxy
export LCG_HOST=http://localhost:8080
export LCG_MODEL=GigaChat-2
export LCG_JWT_TOKEN=your_jwt_token_here

# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
export LCG_SERVER_REQUIRE_AUTH=true
export LCG_SERVER_PASSWORD=my_secure_password
export LCG_COOKIE_SECURE=false
export LCG_DOMAIN=.example.com
export LCG_COOKIE_PATH=/lcg
export LCG_COOKIE_TTL_HOURS=72  # 3 –¥–Ω—è
```

## –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```bash
lcg [–≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏] <–æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã>
```

–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏:

- `--file, -f string` ‚Äî –ø—Ä–æ—á–∏—Ç–∞—Ç—å —á–∞—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞ –∏–∑ —Ñ–∞–π–ª–∞ –∏ –¥–æ–±–∞–≤–∏—Ç—å –∫ –æ–ø–∏—Å–∞–Ω–∏—é.
- `--sys, -s string` ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–ª–∏ ID –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞). –ï—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `--prompt-id` –∏–ª–∏ `LCG_PROMPT`.
- `--prompt-id, --pid int` ‚Äî ID —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ (1‚Äì5 –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö, –ª–∏–±–æ –≤–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π ID).
- `--timeout, -t int` ‚Äî —Ç–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 120; —á–µ—Ä–µ–∑ `LCG_TIMEOUT` ‚Äî 300).
- `--no-history, --nh` ‚Äî –æ—Ç–∫–ª—é—á–∏—Ç—å –∑–∞–ø–∏—Å—å/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞.
- `--debug, -d` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø—Ä–æ–º–ø—Ç—ã).
- `--version, -v` ‚Äî –≤—ã–≤–µ—Å—Ç–∏ –≤–µ—Ä—Å–∏—é.
- `--help, -h` ‚Äî –ø–æ–º–æ—â—å.

## –ü–æ–¥–∫–æ–º–∞–Ω–¥—ã

- `lcg update-key` (`-u`): –æ–±–Ω–æ–≤–∏—Ç—å API‚Äë–∫–ª—é—á. –î–ª—è `ollama` –∏ `proxy` –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è ‚Äî –∫–æ–º–∞–Ω–¥–∞ —Å–æ–æ–±—â–∏—Ç, —á—Ç–æ –∫–ª—é—á –Ω–µ –Ω—É–∂–µ–Ω.
- `lcg delete-key` (`-d`): —É–¥–∞–ª–∏—Ç—å API‚Äë–∫–ª—é—á (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è `ollama`/`proxy`).
- `lcg update-jwt` (`-j`): –æ–±–Ω–æ–≤–∏—Ç—å JWT –¥–ª—è `proxy`. –¢–æ–∫–µ–Ω –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ `~/.proxy_jwt_token` (–ø—Ä–∞–≤–∞ `0600`).
- `lcg delete-jwt` (`-dj`): —É–¥–∞–ª–∏—Ç—å JWT —Ñ–∞–π–ª –¥–ª—è `proxy`.
- `lcg models` (`-m`): –ø–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ —É —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.
- `lcg health` (`-he`): –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.
- `lcg config` (`-co`): –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ JWT.
- `lcg history list` (`-l`): –ø–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑ JSON‚Äë—Ñ–∞–π–ª–∞ (`LCG_RESULT_HISTORY`).
- `lcg history view <id>` (`-v`): –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ `index`.
- `lcg history delete <id>` (`-d`): —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ `index` (—Å –ø–µ—Ä–µ–Ω—É–º–µ—Ä–∞—Ü–∏–µ–π).
- –§–ª–∞–≥ `--no-history` (`-nh`) –æ—Ç–∫–ª—é—á–∞–µ—Ç –∑–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ `LCG_NO_HISTORY`.
- `lcg prompts ...` (`-p`): —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏:
  - `lcg prompts list` (`-l`) ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –≤ —á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.
  - `lcg prompts list --full` (`-f`) ‚Äî –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –±–µ–∑ –æ–±—Ä–µ–∑–∫–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫.
  - `lcg prompts add` (`-a`) ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º–ø—Ç (–ø–æ —à–∞–≥–∞–º –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–µ).
  - `lcg prompts delete <id>` (`-d`) ‚Äî —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º–ø—Ç –ø–æ ID (>5).
- `lcg test-prompt <prompt-id> <–æ–ø–∏—Å–∞–Ω–∏–µ>` (–∞–ª–∏–∞—Å: `tp`): –ø–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–º –æ–ø–∏—Å–∞–Ω–∏–∏.
- `lcg serve`: –∑–∞–ø—É—Å—Ç–∏—Ç—å HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
  - `--port, -p` ‚Äî –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ `LCG_SERVER_PORT`)
  - `--host, -H` ‚Äî —Ö–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ `LCG_SERVER_HOST`)
  - `--browser, -b` ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞
  - `--require-auth` ‚Äî –≤–∫–ª—é—á–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `LCG_SERVER_REQUIRE_AUTH`)
  - `--password` ‚Äî –ø–∞—Ä–æ–ª—å –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `LCG_SERVER_PASSWORD`)

### –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è (v/vv/vvv)

- `v` ‚Äî –∫—Ä–∞—Ç–∫–æ: —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ –∏ –∫–ª—é—á–µ–≤—ã–µ –æ–ø—Ü–∏–∏, –±–µ–∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤.
- `vv` ‚Äî —Å—Ä–µ–¥–Ω–µ: –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–ª—é—á–∏, 1‚Äì2 –ø—Ä–∏–º–µ—Ä–∞, –∫—Ä–∞—Ç–∫–æ –æ–± –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞—Ö.
- `vvv` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ: –ø–æ–ª–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∫–ª—é—á–µ–π, —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤, –ø—Ä–∏–º–µ—Ä—ã, —Ä–∞–∑–±–æ—Ä –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π.

–ü–æ—Å–ª–µ –≤—ã–≤–æ–¥–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Ç–æ—Ä–∏—á–Ω–æ–µ –º–µ–Ω—é: `–î–µ–π—Å—Ç–≤–∏—è: (c)–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, (s)—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, (r)–ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å, (n)–Ω–∏—á–µ–≥–æ:`

## –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã

### Ollama (`LCG_PROVIDER=ollama`)

- –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—â–µ–Ω–Ω—ã–π Ollama API (`LCG_HOST`, –Ω–∞–ø—Ä–∏–º–µ—Ä `http://localhost:11434/`).
- `models`, `health` –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç REST Ollama (`/api/tags`, `/api/chat`).
- API‚Äë–∫–ª—é—á –Ω–µ –Ω—É–∂–µ–Ω.

### Proxy (`LCG_PROVIDER=proxy`)

- –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–∫—Å–∏‚Äë—Å–µ—Ä–≤–µ—Ä—É (`LCG_HOST`) –∏ JWT (`LCG_JWT_TOKEN` –∏–ª–∏ —Ñ–∞–π–ª `~/.proxy_jwt_token`).
- –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã: `/api/v1/protected/sberchat/chat` –∏ `/api/v1/protected/sberchat/health`.
- –ö–æ–º–∞–Ω–¥—ã `update-jwt`/`delete-jwt` –ø–æ–º–æ–≥–∞—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω–æ–º –ª–æ–∫–∞–ª—å–Ω–æ.

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, –º–æ–¥–µ–ª–∏ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤

### –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

- **Ollama**: –≤—ã–±–∏—Ä–∞–π—Ç–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã (–æ—Ñ–ª–∞–π–Ω/—á–∞—Å—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ), –∫–æ–≥–¥–∞ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ GPU/CPU –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏, –ø–æ–ª–Ω–∞—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å.
- **Proxy**: –≤—ã–±–∏—Ä–∞–π—Ç–µ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞ –º–æ–¥–µ–ª–µ–π, –±–æ–ª–µ–µ –º–æ—â–Ω—ã—Ö/–æ–±–Ω–æ–≤–ª—è–µ–º—ã—Ö –º–æ–¥–µ–ª–µ–π, –ø—Ä–æ—Å—Ç–æ—Ç—ã —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è —É –∫–æ–º–∞–Ω–¥—ã. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `JWT`.

### –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏

- –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Linux‚Äë–∫–æ–º–∞–Ω–¥ –ø–æ–¥—Ö–æ–¥—è—Ç –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ ¬´code¬ª/¬´general¬ª –º–æ–¥–µ–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `codegeex4`).
- –î–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –æ–±—ä—è—Å–Ω–µ–Ω–∏–π (`v`/`vv`/`vvv`) —Ç–æ—á–Ω–æ—Å—Ç—å –≤—ã—à–µ —É –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ–º–µ–π—Å—Ç–≤–∞ LLaMA/Qwen/GigaChat), –Ω–æ –æ–Ω–∏ –º–µ–¥–ª–µ–Ω–Ω–µ–µ.
- –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —á–∞—Å—Ç–æ –ª—É—á—à–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ `GigaChat-*` (—Ä–µ–∂–∏–º proxy), –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ ‚Äî –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö open‚Äësource (Ollama).
- –ë–∞–ª–∞–Ω—Å–∏—Ä—É–π—Ç–µ: —Å–∫–æ—Ä–æ—Å—Ç—å (–º–∞–ª—ã–µ –º–æ–¥–µ–ª–∏) vs –∫–∞—á–µ—Å—Ç–≤–æ (–∫—Ä—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏). –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ `lcg models` –∏ –ø–æ–¥–±–∏—Ä–∞–π—Ç–µ `LCG_MODEL`.

### –¢–∞–π–º–∞—É—Ç—ã

- –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: –ª–æ–∫–∞–ª—å–Ω–æ —Å Ollama ‚Äî **120‚Äì300 —Å–µ–∫**, —É–¥–∞–ª—ë–Ω–Ω—ã–π proxy ‚Äî **300‚Äì600 —Å–µ–∫**.
- –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π/–¥–ª–∏–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –§–ª–∞–≥ `--timeout` –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç `LCG_TIMEOUT` –Ω–∞ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞.
- –ï—Å–ª–∏ —á–∞—Å—Ç–æ –≤–∏–¥–∏—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–¥–æ—Ä–æ–≤—å–µ API (`lcg health`) –∏ —Å–µ—Ç–µ–≤—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `LCG_HOST`.

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã

- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ollama –ª–æ–∫–∞–ª—å–Ω–æ –∏ `--no-history` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- –î–ª—è ¬´—á–µ—Ä–Ω–æ–≤–æ–π¬ª –∫–æ–º–∞–Ω–¥—ã –Ω–∞—á–Ω–∏—Ç–µ —Å `Ollama + –Ω–µ–±–æ–ª—å—à–∞—è –º–æ–¥–µ–ª—å`; –¥–ª—è ¬´–æ–±—ä—è—Å–Ω–µ–Ω–∏–π –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤¬ª –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω—É—é –º–æ–¥–µ–ª—å/Proxy.
- –ù–µ –≤—Å—Ç–∞–≤–ª—è–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –∑–∞–ø—Ä–æ—Å—ã. –ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º (`e`) –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤—Ä—É—á–Ω—É—é.
- –î–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã API —Å–º. `API_CONTRACT.md` (—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ —Ñ–æ—Ä–º–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤).

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –û–°

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–º–ø—Ç—ã:

- **Linux/Unix —Å–∏—Å—Ç–µ–º—ã** (–≤–∫–ª—é—á–∞—è macOS): –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è Linux –∫–æ–º–∞–Ω–¥
- **Windows**: –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è Windows –∫–æ–º–∞–Ω–¥ (PowerShell, CMD, Batch)

### –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è Windows

–ù–∞ Windows —Å–∏—Å—Ç–µ–º–∞—Ö –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã:

| ID | Name | –û–ø–∏—Å–∞–Ω–∏–µ |
| --- | --- | --- |
| 1 | windows-command | –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Windows –∫–æ–º–∞–Ω–¥ |
| 2 | windows-command-with-explanation | –ü—Ä–æ–º–ø—Ç —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥ |
| 3 | windows-command-safe | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–º–∞–Ω–¥ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏ |
| 4 | windows-command-verbose | –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ –¥–µ—Ç–∞–ª—è–º–∏ |
| 5 | windows-command-simple | –ü—Ä–æ—Å—Ç–æ–µ –∏ –ø–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ |

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ Windows

```cmd
# PowerShell –∫–æ–º–∞–Ω–¥—ã
lcg "—Ö–æ—á—É –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤"
lcg "–ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–∏—Å–∫–∞—Ö"

# CMD –∫–æ–º–∞–Ω–¥—ã  
lcg "—Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É test –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –Ω–µ—ë"
lcg "–Ω–∞–π—Ç–∏ –≤—Å–µ —Ñ–∞–π–ª—ã .txt –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏"
```

## –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏

–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ, —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `LCG_PROMPT_FOLDER` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `~/.config/lcg/gpt_sys_prompts`).

**–õ–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:**

- –ï—Å–ª–∏ —Ñ–∞–π–ª `sys_prompts` **–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** ‚Äî —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ–∞–π–ª —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏ (ID 1‚Äì5) –∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ (ID 6‚Äì8)
- –ï—Å–ª–∏ —Ñ–∞–π–ª `sys_prompts` **—Å—É—â–µ—Å—Ç–≤—É–µ—Ç** ‚Äî –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –ø—Ä–æ–º–ø—Ç—ã –∏–∑ —Ñ–∞–π–ª–∞
- **–ü—Ä–æ–º–ø—Ç—ã –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏** (v/vv/vvv) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–æ–º –∂–µ —Ñ–∞–π–ª–µ —Å ID 6, 7, 8

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã (ID 1‚Äì5)

–ü—Ä–æ–º–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã:

**Linux/Unix —Å–∏—Å—Ç–µ–º—ã:**
| ID | Name | –û–ø–∏—Å–∞–Ω–∏–µ |
| --- | --- | --- |
| 1 | linux-command | ¬´–û—Ç–≤–µ—Ç—å —Ç–æ–ª—å–∫–æ Linux‚Äë–∫–æ–º–∞–Ω–¥–æ–π, –±–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π¬ª. |
| 2 | linux-command-with-explanation | –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∫–æ–º–∞–Ω–¥—É –∏ –∫—Ä–∞—Ç–∫–æ –æ–±—ä—è—Å–Ω–∏, —á—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç (—Ñ–æ—Ä–º–∞—Ç: COMMAND: explanation). |
| 3 | linux-command-safe | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö). –í—ã–≤–æ–¥ ‚Äî —Ç–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥–∞. |
| 4 | linux-command-verbose | –ö–æ–º–∞–Ω–¥–∞ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ —Ñ–ª–∞–≥–æ–≤ –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤. |
| 5 | linux-command-simple | –ü—Ä–æ—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã, –∏–∑–±–µ–≥–∞—Ç—å —Å–ª–æ–∂–Ω—ã—Ö –æ–ø—Ü–∏–π. |

**Windows —Å–∏—Å—Ç–µ–º—ã:**
| ID | Name | –û–ø–∏—Å–∞–Ω–∏–µ |
| --- | --- | --- |
| 1 | windows-command | ¬´–û—Ç–≤–µ—Ç—å —Ç–æ–ª—å–∫–æ Windows‚Äë–∫–æ–º–∞–Ω–¥–æ–π, –±–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π¬ª. |
| 2 | windows-command-with-explanation | –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∫–æ–º–∞–Ω–¥—É –∏ –∫—Ä–∞—Ç–∫–æ –æ–±—ä—è—Å–Ω–∏, —á—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç (—Ñ–æ—Ä–º–∞—Ç: COMMAND: explanation). |
| 3 | windows-command-safe | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö). –í—ã–≤–æ–¥ ‚Äî —Ç–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥–∞. |
| 4 | windows-command-verbose | –ö–æ–º–∞–Ω–¥–∞ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ —Ñ–ª–∞–≥–æ–≤ –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤. |
| 5 | windows-command-simple | –ü—Ä–æ—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã, –∏–∑–±–µ–≥–∞—Ç—å —Å–ª–æ–∂–Ω—ã—Ö –æ–ø—Ü–∏–π. |

### –ü—Ä–æ–º–ø—Ç—ã –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ (ID 6‚Äì8)

| ID | Name | –û–ø–∏—Å–∞–Ω–∏–µ |
| --- | --- | --- |
| 6 | verbose-v | –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–µ–∂–∏–º (v) - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã |
| 7 | verbose-vv | –û—á–µ–Ω—å –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–µ–∂–∏–º (vv) - –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–µ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏ |
| 8 | verbose-vvv | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–µ–∂–∏–º (vvv) - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ |

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ß–µ—Ä–µ–∑ HTTP —Å–µ—Ä–≤–µ—Ä (`lcg serve`) –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏:

- **–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø—Ä–æ–º–ø—Ç–æ–≤** (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö)
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª—é–±—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤** (–≤–∫–ª—é—á–∞—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤**
- **–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** –≤ —Ñ–∞–π–ª `sys_prompts`

## –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–µ–π—Å—Ç–≤–∏—è `s` –æ—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `LCG_RESULT_FOLDER` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `~/.config/lcg/gpt_results`) –≤ —Ñ–∞–π–ª –≤–∏–¥–∞:

```text
gpt_request_<MODEL>_YYYY-MM-DD_HH-MM-SS.md
```

## HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ö–æ–º–∞–Ω–¥–∞ `lcg serve` –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

```bash
# –ó–∞–ø—É—Å–∫ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
lcg serve

# –ó–∞–ø—É—Å–∫ –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É
lcg serve --port 9090

# –ó–∞–ø—É—Å–∫ –Ω–∞ –¥—Ä—É–≥–æ–º —Ö–æ—Å—Ç–µ
lcg serve --host 0.0.0.0 --port 8080

# –ê–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
lcg serve --browser

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
export LCG_SERVER_PORT=3000
export LCG_SERVER_HOST=0.0.0.0
lcg serve
```

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** (`/`) ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å –ø—Ä–µ–≤—å—é
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤, —Ñ–∞–π–ª—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤** (`/file/{filename}`) ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω** ‚Äî –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ñ–∞–π–ª–æ–≤
- **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** ‚Äî —Ñ–∞–π–ª—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–∞—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
- **–ü—Ä–µ–≤—å—é —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ** ‚Äî –ø–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Äî –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏
- **CSRF –∑–∞—â–∏—Ç–∞** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –º–µ–∂—Å–∞–π—Ç–æ–≤—ã—Ö –∞—Ç–∞–∫
- **–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤** (`/history`) ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏** (`/prompts`) ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
- **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥** (`/run`) ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî HTTP-only cookies, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ (–∫–æ–º–∞–Ω–¥–∞):

- `# <–∑–∞–≥–æ–ª–æ–≤–æ–∫>` ‚Äî H1, —ç—Ç–æ –≤–∞—à –∑–∞–ø—Ä–æ—Å, –ø—Ä–∏ –¥–ª–∏–Ω–µ >120 —Å–∏–º–≤–æ–ª–æ–≤ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –¥–æ 116 + `...`.
- `## Prompt` ‚Äî –∑–∞–ø—Ä–æ—Å (–≤–∫–ª—é—á–∞—è —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç).
- `## Response` ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ (–ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ):

- `# <–∑–∞–≥–æ–ª–æ–≤–æ–∫>` ‚Äî H1, –≤–∞—à –∏—Å—Ö–æ–¥–Ω—ã–π –∑–∞–ø—Ä–æ—Å (—Å —Ç–µ–º –∂–µ –ø—Ä–∞–≤–∏–ª–æ–º –æ–±—Ä–µ–∑–∫–∏).
- `## Prompt` ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–π –∑–∞–ø—Ä–æ—Å.
- `## Command` ‚Äî –ø–µ—Ä–≤–∞—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞.
- `## Explanation and Alternatives (model: <MODEL>)` ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã.

### –ë—Ä–∞—É–∑–µ—Ä

- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é UI –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –î–ª—è –∞–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--browser`.
- –ü—É—Ç—å –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –±—Ä–∞—É–∑–µ—Ä—É –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `LCG_BROWSER_PATH`.

## –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã

–î–µ–π—Å—Ç–≤–∏–µ `e` –∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–º–∞–Ω–¥—É —á–µ—Ä–µ–∑ `bash -c`. –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ `y/yes`. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤—Ä—É—á–Ω—É—é, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å —Ñ–∞–π–ª–∞–º–∏ –∏ —Å–µ—Ç—å—é.

## –ü—Ä–∏–º–µ—Ä—ã

1. –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —Å Ollama:

```bash
export LCG_PROVIDER=ollama
export LCG_HOST=http://localhost:11434/
export LCG_MODEL=codegeex4

lcg "—Ö–æ—á—É –∏–∑–≤–ª–µ—á—å linux-command-gpt.tar.gz"
```

1. –ü–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç LLM (–ø—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏):

```bash
LCG_PROMPT='Provide full response' LCG_MODEL=codellama:13b \
  lcg 'i need bash script to execute command by ssh on array of hosts'
```

1. Proxy‚Äë–ø—Ä–æ–≤–∞–π–¥–µ—Ä:

```bash
export LCG_PROVIDER=proxy
export LCG_HOST=http://localhost:8080
export LCG_MODEL=GigaChat-2
export LCG_JWT_TOKEN=your_jwt_token_here

lcg "I want to extract linux-command-gpt.tar.gz file"

lcg health
lcg config
lcg update-jwt
```

1. –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏:

```bash
lcg --file ./context.txt "—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∫–æ–º–∞–Ω–¥—É jq –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ –ø–æ–ª—è name"
lcg --prompt-id 2 "—É–¥–∞–ª–∏ –≤—Å–µ *.tmp –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ"
lcg --sys 1 "–ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–º–µ—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ –≤ —á–µ–ª–æ–≤–µ–∫–æ‚Äë—á–∏—Ç–∞–µ–º–æ–º –≤–∏–¥–µ"
```

1. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –º–æ–¥–µ–ª–∏:

```bash
lcg health
lcg models
```

1. HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
lcg serve

# –ó–∞–ø—É—Å–∫ –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É
lcg serve --port 9090

# –ó–∞–ø—É—Å–∫ –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
lcg serve --host 0.0.0.0 --port 8080

# –ó–∞–ø—É—Å–∫ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
lcg serve --require-auth --password my_secure_password

# –ó–∞–ø—É—Å–∫ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export LCG_SERVER_REQUIRE_AUTH=true
export LCG_SERVER_PASSWORD=admin#123456
lcg serve
```

## –ò—Å—Ç–æ—Ä–∏—è

`lcg history` –≤—ã–≤–æ–¥–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –∏–∑ JSON‚Äë—Ñ–∞–π–ª–∞ (`LCG_RESULT_HISTORY`), —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏:

```bash
lcg history list
```

## –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- –ù–µ—Ç –æ—Ç–≤–µ—Ç–∞/—Ç–∞–π–º–∞—É—Ç: —É–≤–µ–ª–∏—á—å—Ç–µ `--timeout` –∏–ª–∏ `LCG_TIMEOUT`, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `LCG_HOST` –∏ —Å–µ—Ç–µ–≤—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.
- `health` –ø–∞–¥–∞–µ—Ç: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ URL –≤–µ—Ä–Ω—ã–π; –¥–ª—è `proxy` ‚Äî —á—Ç–æ JWT –≤–∞–ª–∏–¥–µ–Ω (`lcg config`).
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `xclip` –∏–ª–∏ `xsel`.
- –ù–µ—Ç –¥–æ–ø—É—Å–∫–∞ –∫ –ø–∞–ø–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `LCG_RESULT_FOLDER` –∏–ª–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞.
- –î–ª—è `ollama`/`proxy` API‚Äë–∫–ª—é—á –Ω–µ –Ω—É–∂–µ–Ω; –∫–æ–º–∞–Ω–¥—ã `update-key`/`delete-key` –ø—Ä–æ—Å—Ç–æ —É–≤–µ–¥–æ–º—è—Ç –æ–± —ç—Ç–æ–º.
- HTTP —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç —Å–≤–æ–±–æ–¥–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--port` –¥–ª—è —Å–º–µ–Ω—ã –ø–æ—Ä—Ç–∞.
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ñ–∞–π–ª—ã: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `LCG_RESULT_FOLDER` –µ—Å—Ç—å `.md` —Ñ–∞–π–ª—ã.
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `LCG_SERVER_REQUIRE_AUTH=true` –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è.
- **CSRF –æ—à–∏–±–∫–∏**: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö `X-CSRF-Token`.
- **Cookies –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `LCG_DOMAIN` –∏ `LCG_COOKIE_PATH` –¥–ª—è reverse proxy.
- **Kubernetes –¥–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–ª–∞—Å—Ç–µ—Ä—É –∏ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤.

## JSON‚Äë–∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

- –ü—É—Ç—å –∑–∞–¥–∞—ë—Ç—Å—è `LCG_RESULT_HISTORY` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `$(LCG_RESULT_FOLDER)/lcg_history.json`).
- –§–æ—Ä–º–∞—Ç ‚Äî –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤:

```json
[
  {
    "index": 1,
    "command": "—Ö–æ—á—É –∏–∑–≤–ª–µ—á—å linux-command-gpt.tar.gz",
    "response": "tar -xvzf linux-command-gpt.tar.gz",
    "explanation": "... –µ—Å–ª–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–æ—Å—å v/vv/vvv ...",
    "system_prompt": "Reply with linux command and nothing else ...",
    "timestamp": "2025-10-19T13:05:39.000000000Z"
  }
]
```

- –ü–µ—Ä–µ–¥ –Ω–æ–≤—ã–º –∑–∞–ø—Ä–æ—Å–æ–º, –µ—Å–ª–∏ —Ç–∞–∫–æ–π —É–∂–µ –≤—Å—Ç—Ä–µ—á–∞–ª—Å—è, –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –¥–∞—Ç—ã.
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª –∏—Å—Ç–æ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã (–ª—é–±–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –∫—Ä–æ–º–µ `v|vv|vvv`).
- –ü—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –∑–∞–ø–∏—Å–∏.
- –ü–æ–¥–∫–æ–º–∞–Ω–¥—ã –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ –ø–æ–ª—é `index` –≤–Ω—É—Ç—Ä–∏ JSON (–∞ –Ω–µ –ø–æ –ø–æ–∑–∏—Ü–∏–∏ –º–∞—Å—Å–∏–≤–∞): –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `lcg history view <index>` –∏ `lcg history delete <index>`.
- –ü—Ä–∏ –ø–æ–∫–∞–∑–µ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å –∫ API –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è: –≤—ã–≤–æ–¥–∏—Ç—Å—è CAPS‚Äë–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏ –¥–∞–ª–µ–µ –¥–æ—Å—Ç—É–ø–Ω–æ –æ–±—ã—á–Ω–æ–µ –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞–¥ –∫–æ–º–∞–Ω–¥–æ–π/–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º.

## –õ–∏—Ü–µ–Ω–∑–∏—è –∏ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏

–°–º. README –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞. –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ –±–∞–≥‚Äë—Ä–µ–ø–æ—Ä—Ç—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –≤ Issues.

## –î–æ—Å—Ç—É–ø –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É API

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- `POST /api/execute` ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM
- `POST /api/save-result` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `POST /api/add-to-history` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
- `GET /api/login` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `POST /api/login` ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/logout` ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- `GET /metrics` ‚Äî Prometheus –º–µ—Ç—Ä–∏–∫–∏

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
lcg serve

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å (–±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
curl -X POST http://localhost:8080/api/execute \
  -H "Content-Type: application/json" \
  -A curl \
  -d '{"prompt": "create directory test", "verbose": "vv"}'

# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
curl -X POST http://localhost:8080/api/login \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "admin#123456"}'

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å CSRF —Ç–æ–∫–µ–Ω–æ–º
curl -X POST http://localhost:8080/api/execute \
  -H "Content-Type: application/json" \
  -H "X-CSRF-Token: your_csrf_token" \
  -H "Cookie: auth_token=your_jwt_token" \
  -d '{"prompt": "create directory test"}'
```

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∏–º–µ—Ä—ã: `API_GUIDE.md`.

## Kubernetes –¥–µ–ø–ª–æ–π

### –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π

```bash
# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø–∞–ø–∫—É –¥–µ–ø–ª–æ—è
cd deploy

# –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π (—Å–±–æ—Ä–∫–∞ + –¥–µ–ø–ª–æ–π + –ø—Ä–æ–≤–µ—Ä–∫–∞)
./full-deploy.sh

# –ò–ª–∏ –ø–æ—ç—Ç–∞–ø–Ω–æ
./build.sh lcg latest
./deploy.sh
./health-check.sh
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Make

```bash
# –°–ø—Ä–∞–≤–∫–∞
make help

# –°–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π
make build
make deploy

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
make status
make logs
make monitor

# –£–¥–∞–ª–µ–Ω–∏–µ
make undeploy
```

### Flux CD (GitOps)

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Flux CD
cd deploy/flux
./setup-flux.sh

# –°–æ–∑–¥–∞–Ω–∏–µ Kustomization
./create_kustomization.sh

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
kubectl get kustomization lcg -n flux-system
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è reverse proxy

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∑–∞ reverse proxy
export LCG_SERVER_REQUIRE_AUTH=true
export LCG_SERVER_ALLOW_HTTP=true
export LCG_DOMAIN=.example.com
export LCG_COOKIE_PATH=/lcg
export LCG_COOKIE_SECURE=false

# –ó–∞–ø—É—Å–∫
./lcg serve -H 0.0.0.0 -p 8080
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **Prometheus –º–µ—Ç—Ä–∏–∫–∏**: `/metrics` endpoint
- **Health checks**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- **HPA**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (2-10 replicas)
- **CSRF –∑–∞—â–∏—Ç–∞**: —Ç–æ–∫–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö POST –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT —Ç–æ–∫–µ–Ω—ã –≤ HTTP-only cookies
- **Security context**: non-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏: `deploy/README.md` –∏ `deploy/flux/README.md`.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CSRF –∑–∞—â–∏—Ç—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ CSRF –∑–∞—â–∏—Ç—ã
./test_csrf.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
echo "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ 403 Forbidden"
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ csrf_test.html –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open csrf_test.html

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ curl –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
curl -X POST http://localhost:8080/api/execute \
  -H "Content-Type: application/json" \
  -d '{"prompt": "test"}' \
  -v
```

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–∏

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ csrf_demo.html –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∞—Ç–∞–∫–∏
open csrf_demo.html
```

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏: `CSRF_TESTING_GUIDE.md`.
